import subprocess

def scan_ip_ports(ip, ports):
    port_list = ports.split(',')
    port_range = ','.join(port_list)
    command = f"nmap -sCV -p {port_range} {ip}"
    try:
        output = subprocess.check_output(command, shell=True, stderr=subprocess.STDOUT)
        print(output.decode())
    except subprocess.CalledProcessError as e:
        print(f"Error: {e.output.decode()}")

ip = input("Ingrese la direcci√≥n IP a escanear: ")
ports = input("Ingrese los puertos separados por coma: ")
scan_ip_ports(ip, ports)
